<section class="py-5">
  <div class="container">
    <h1 class="hero-heading mb-0">Login &amp; security</h1>
    <p class="text-muted mb-5">
      Manage your login &amp; security and settings here.
    </p>
    <div class="row">
      <div class="col-lg-6">
        <div class="text-block">
          <h3 class="mb-4 login-title">Login</h3>
          <div class="row">
            <div class="col-sm-8">
              <h6 class="password">Password</h6>
              <p class="text-sm text-muted last-updated">
                Last updated 3 years ago
              </p>
            </div>
            <div class="col text-right">
              <button
                class="btn btn-link pl-0 text-primary collapsed update-btn"
                type="button"
                data-toggle="collapse"
                data-target="#updatePassword"
                aria-expanded="false"
                aria-controls="updatePassword"
              >
                Update
              </button>
            </div>
          </div>
          <form
            action="#"
            class="collapse"
            id="updatePassword"
            [formGroup]="passwordForm"
            (ngSubmit)="passwordFormSubmit()"
          >
            <div class="row mt-4">
              <div class="form-group col-12">
                <label class="form-label" for="password-current"
                  >Current Password</label
                >
                <input
                  class="form-control"
                  type="password"
                  name="password-current"
                  id="password-current"
                  formControlName="oldPassword"
                  required
                />
                <!-- <div class="alert alert-danger" role="alert" *ngIf="!mustMatch">
                  Current password and the password you entered don't match.
                </div> -->
              </div>
              <div class="form-group col-md-6">
                <label class="form-label" for="password-new"
                  >New Password</label
                >
                <input
                  class="form-control"
                  type="password"
                  name="password-new"
                  id="password-new"
                  formControlName="newPassword"
                  required
                />
                <div
                  class="alert alert-danger"
                  role="alert"
                  *ngIf="
                    passwordForm.controls.newPassword?.invalid &&
                    (passwordForm.controls.newPassword?.dirty ||
                      passwordForm.controls.newPassword?.touched)
                  "
                >
                  <div
                    *ngIf="passwordForm.controls.newPassword?.errors?.required"
                  >
                    New password is required.
                  </div>
                  <div
                    *ngIf="passwordForm.controls.newPassword?.errors?.minlength"
                  >
                    New password must be at least 6 characters.
                  </div>
                </div>
              </div>
              <div class="form-group col-md-6">
                <label class="form-label" for="password-confirm"
                  >Confirm Password</label
                >
                <input
                  class="form-control"
                  type="password"
                  name="password-confirm"
                  id="password-confirm"
                  formControlName="confirmNewPassword"
                  required
                />
                <div
                  class="alert alert-danger"
                  role="alert"
                  *ngIf="
                    passwordForm.controls.confirmNewPassword?.invalid &&
                    (passwordForm.controls.confirmNewPassword?.dirty ||
                      passwordForm.controls.confirmNewPassword?.touched)
                  "
                >
                  <div
                    *ngIf="
                      passwordForm.controls.confirmNewPassword?.errors?.required
                    "
                  >
                    Password confirmation is required.
                  </div>
                  <div
                    *ngIf="
                      passwordForm.controls.confirmNewPassword?.errors
                        ?.mustMatch
                    "
                  >
                    Password confirmation must match.
                  </div>
                </div>
              </div>
            </div>
            <button
              type="submit"
              class="btn btn-outline-primary password-updated"
              [disabled]="!passwordForm.valid"
            >
              Update Password
            </button>
          </form>
          <div class="alert alert-success" role="alert" *ngIf="passwordChanged">
            Password changed successfully.
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

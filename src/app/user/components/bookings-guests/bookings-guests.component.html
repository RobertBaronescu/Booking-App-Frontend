<section class="py-5">
  <div class="container">
    <div
      class="d-flex justify-content-between align-items-end mb-5"
      *ngIf="_isHost"
    >
      <h1 class="hero-heading mb-0">Bookings for your rooms</h1>
    </div>
    <div
      class="d-flex justify-content-between align-items-center flex-column flex-lg-row mb-5"
      *ngIf="_isHost"
    >
      <div class="mr-3">
        <p class="mb-3 mb-lg-0">
          You have <strong>{{ bookings?.length }} bookings</strong> for your
          rooms!
        </p>
      </div>
    </div>
    <div
      class="d-flex justify-content-between align-items-end mb-5"
      *ngIf="!_isHost"
    >
      <h1 class="hero-heading mb-0">My upcoming bookings</h1>
    </div>
    <div
      class="d-flex justify-content-between align-items-center flex-column flex-lg-row mb-5"
      *ngIf="!_isHost"
    >
      <div class="mr-3">
        <p class="mb-3 mb-lg-0">
          You have <strong>{{ bookings?.length }} vacations</strong> coming up!
        </p>
      </div>
    </div>
    <div class="list-group shadow mb-5">
      <a
        class="list-group-item list-group-item-action p-4"
        *ngFor="let booking of bookings"
      >
        <div class="row">
          <div class="col-lg-4 align-self-center mb-4 mb-lg-0">
            <div class="d-flex align-items-center mb-3" *ngIf="_isHost">
              <h2 class="h5 mb-0">{{ booking?.userName }}</h2>
              <img
                class="avatar avatar-sm avatar-border-white ml-3"
                [src]="booking?.userPicture"
                alt="Jack London"
              />
            </div>
            <div class="d-flex align-items-center mb-3" *ngIf="!_isHost">
              <h2 class="h5 mb-0">{{ user?.name }}</h2>
              <img
                class="avatar avatar-sm avatar-border-white ml-3"
                [src]="user?.picture"
                alt="Jack London"
              />
            </div>

            <span class="badge badge-pill p-2 badge-secondary-light"
              >{{ booking?.startDate | date }} -
              {{ booking?.endDate | date }}</span
            >
          </div>
          <div class="col-lg-8">
            <div class="row">
              <div class="col-6 col-md-4 col-lg-3 py-3 mb-3 mb-lg-0">
                <h6 class="label-heading">Nights</h6>
                <p class="text-sm font-weight-bold mb-0">
                  {{ booking?.numberOfDays }}
                </p>
              </div>
              <div class="col-6 col-md-4 col-lg-3 py-3">
                <h6 class="label-heading">Occupancy</h6>
                <p class="text-sm font-weight-bold">{{ booking?.guests }}</p>
                <h6 class="label-heading">Charge</h6>
                <p class="text-sm font-weight-bold mb-0">
                  ${{ booking?.price }}
                </p>
              </div>
              <div class="col-6 col-md-4 col-lg-3 py-3">
                <h6 class="label-heading">Booked Date</h6>
                <p class="text-sm font-weight-bold">
                  {{ booking?.startDate | date }}
                </p>
              </div>
              <div class="col-12 col-lg-3 align-self-center">
                <span
                  class="text-sm text-uppercase cancel-booking"
                  (click)="cancelBooking(booking._id)"
                  ><i class="fas fa-times fa-fw mr-2"> </i>Revoke</span
                >
              </div>
            </div>
          </div>
        </div></a
      >
    </div>
  </div>
</section>
